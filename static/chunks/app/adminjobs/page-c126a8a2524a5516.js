(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{61212:function(e,a,s){Promise.resolve().then(s.bind(s,91954))},9047:function(e,a,s){"use strict";var t=s(57437),o=s(2265);a.Z=()=>{let[e,a]=(0,o.useState)("");return(0,o.useEffect)(()=>{a(sessionStorage.getItem("uname"))},[]),(0,t.jsxs)("div",{className:"h-[10%] bg-orange-200 w-[80%] flex justify-between px-[2vmax] fixed top-0 right-0 z-50",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("p",{className:"text-[1.8vmax] font-semibold",children:["Hi, ",e,"!"]})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("img",{src:"profile.png",height:40,width:40,alt:""})})]})}},19695:function(e,a,s){"use strict";var t=s(57437);s(2265);var o=s(40301),l=s(69342);a.Z=e=>{let{isAdmin:a}=e;return(0,t.jsxs)("div",{className:"w-[20%] h-screen bg-white flex flex-col justify-between fixed",children:[(0,t.jsx)("div",{className:"h-[30%]",children:(0,t.jsx)("img",{src:"logo.png",alt:""})}),(0,t.jsxs)("div",{className:"h-[60%] flex flex-col items-center gap-3 text-[1.3vmax] font-bold",children:[(0,t.jsxs)("div",{className:"flex gap-2 w-[80%] p-[10px] bg-orange-400 rounded",children:[(0,t.jsx)(o.Z,{}),(0,t.jsx)("p",{children:"Home"})]}),(0,t.jsxs)("div",{className:"flex gap-2 w-[80%] p-[10px] bg-orange-400 rounded",children:[(0,t.jsx)(l.Z,{}),(0,t.jsx)("p",{children:"FAQs"})]})]}),(0,t.jsx)("div",{className:"h-[20%] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,t.jsx)("img",{src:"logout.png",height:20,width:20,alt:""}),(0,t.jsx)("p",{children:"Log Out"})]})})]})}},91954:function(e,a,s){"use strict";s.r(a);var t=s(57437),o=s(2265),l=s(32774),i=s(50239),d=s(42126),n=s(16463),r=s(19695),c=s(9047),m=s(94550),u=s(57131),h=s(47565),x=s(50343);a.default=()=>{let e=(0,n.useRouter)(),[a,s]=(0,o.useState)(1),[j,b]=(0,o.useState)([]),[p,f]=(0,o.useState)(!0),[g,N]=(0,o.useState)(!1),[v,C]=(0,o.useState)(!0),[y,w]=(0,o.useState)("");(0,o.useEffect)(()=>{w(sessionStorage.getItem("authtoken"))},[]),(0,o.useEffect)(()=>{(async()=>{try{let e=sessionStorage.getItem("authtoken");var{data:a}=await d.Z.get("https://logistic-backend.azurewebsites.net/api/jobdetails/getalljobs",{headers:{Authorization:"Bearer ".concat(e)}});console.log(a),b(a.data),f(!1)}catch(a){console.log(a),401===a.response.status&&e.push("/login")}})()},[g,v]);let[S,I]=(0,o.useState)({id:0,jobId:0,userId:"",vesselName:"",craftName:"",jobType:"",jobStatus:"",adviceCode:"",serviceRequestTime:"",tugPickUpLocation:"",tugLetGoLocation:"",locationFrom:"",locationTo:"",pilotCode:"",remarks:""}),k=async e=>{let a=sessionStorage.getItem("authtoken"),s=e.jobId;await d.Z.get("https://logistic-backend.azurewebsites.net/api/jobdetails/id?jid=".concat(s),{headers:{Authorization:"Bearer ".concat(a)}}),I({id:0,jobId:e.jobId,userId:parseInt(e.userId)||1,vesselName:e.vesselName,craftName:e.craftName,jobType:e.jobType,jobStatus:e.jobStatus,adviceCode:e.adviceCode,serviceRequestTime:new Date(e.serviceRequestTime).toISOString()||new Date().toISOString(),tugPickUpLocation:e.tugPickUpLocation,tugLetGoLocation:e.tugLetGoLocation,locationFrom:e.locationFrom,locationTo:e.locationTo,pilotCode:e.pilotCode,remarks:e.remarks}),N(!0)},L=async e=>{let a=sessionStorage.getItem("authtoken"),s=e.jobId;var t=await d.Z.delete("https://logistic-backend.azurewebsites.net/api/jobdetails/deletejob?jid=".concat(s),{headers:{Authorization:"Bearer ".concat(a)}});C(!v),console.log(t)},T=a=>{console.log(a),e.push("/jobdetails?jobid=".concat(a.jobId))},F=e=>{let{name:a,value:s}=e.target;I(e=>({...e,[a]:s}))},Z=async e=>{e.preventDefault(),console.log(S);let a={id:0,jobId:S.jobId||"",userId:parseInt(S.userId)||0,vesselName:S.vesselName||"",craftName:S.craftName||"",jobType:S.jobType||"",jobStatus:S.jobStatus||"",adviceCode:S.adviceCode||"",serviceRequestTime:new Date(S.serviceRequestTime).toISOString()||new Date().toISOString(),tugPickUpLocation:S.tugPickUpLocation||"",tugLetGoLocation:S.tugLetGoLocation||"",locationFrom:S.locationFrom||"",locationTo:S.locationTo||"",pilotCode:S.pilotCode||"",remarks:S.remarks||""},s=sessionStorage.getItem("authtoken");console.log("res: ",await d.Z.post("https://logistic-backend.azurewebsites.net/api/JobDetails/CreateJob",a,{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}})),N(!1)};return(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(r.Z,{}),(0,t.jsxs)("div",{className:"w-[81%]",children:[(0,t.jsx)(c.Z,{}),(0,t.jsxs)("div",{className:"w-[100%] ml-[24%] mt-[5%] h-[100%] bg-gray-100",children:[(0,t.jsx)("div",{className:"ml-[5%]",children:(0,t.jsxs)("div",{className:"flex justify-between w-[73vmax] py-[2vmax]",children:[(0,t.jsx)("p",{className:"text-[1.5vmax] font-semibold",children:"Jobs"}),(0,t.jsxs)("button",{onClick:()=>{N(!0)},className:"p-2 flex justify-center items-center bg-orange-500 rounded text-white font-semibold",children:[(0,t.jsx)(h.Z,{}),"Create New Job"]}),(0,t.jsx)(x.Z,{open:g,onClose:()=>{N(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center",children:(0,t.jsxs)("form",{onSubmit:Z,className:"bg-white p-8 rounded-lg shadow-lg max-w-4xl w-full overflow-auto",style:{maxHeight:"80vh"},children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Enter Job Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"jobId",className:"font-medium",children:"Job ID:"}),(0,t.jsx)("input",{type:"text",name:"jobId",id:"jobId",value:S.jobId,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"vesselName",className:"font-medium",children:"Vessel Name:"}),(0,t.jsx)("input",{type:"text",name:"vesselName",id:"vesselName",value:S.vesselName,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"jobType",className:"font-medium",children:"Job Type:"}),(0,t.jsx)("input",{type:"text",name:"jobType",id:"jobType",value:S.jobType,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"tugPickUpLocation",className:"font-medium",children:"Tug Pick Up Location:"}),(0,t.jsx)("input",{type:"text",name:"tugPickUpLocation",id:"tugPickUpLocation",value:S.tugPickUpLocation,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"locationFrom",className:"font-medium",children:"Location From:"}),(0,t.jsx)("input",{type:"text",name:"locationFrom",id:"locationFrom",value:S.locationFrom,onChange:F,className:"border p-2 rounded-md"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"userId",className:"font-medium",children:"User ID:"}),(0,t.jsx)("input",{type:"number",name:"userId",id:"userId",value:S.userId,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"craftName",className:"font-medium",children:"Craft Name:"}),(0,t.jsx)("input",{type:"text",name:"craftName",id:"craftName",value:S.craftName,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"jobStatus",className:"font-medium",children:"Job Status:"}),(0,t.jsx)("input",{type:"text",name:"jobStatus",id:"jobStatus",value:S.jobStatus,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"tugLetGoLocation",className:"font-medium",children:"Tug Let Go Location:"}),(0,t.jsx)("input",{type:"text",name:"tugLetGoLocation",id:"tugLetGoLocation",value:S.tugLetGoLocation,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"locationTo",className:"font-medium",children:"Location To:"}),(0,t.jsx)("input",{type:"text",name:"locationTo",id:"locationTo",value:S.locationTo,onChange:F,className:"border p-2 rounded-md"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"adviceCode",className:"font-medium",children:"Advice Code:"}),(0,t.jsx)("input",{type:"text",name:"adviceCode",id:"adviceCode",value:S.adviceCode,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"serviceRequestTime",className:"font-medium",children:"Service Request Time:"}),(0,t.jsx)("input",{type:"datetime-local",name:"serviceRequestTime",id:"serviceRequestTime",value:S.serviceRequestTime,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"pilotCode",className:"font-medium",children:"Pilot Code:"}),(0,t.jsx)("input",{type:"text",name:"pilotCode",id:"pilotCode",value:S.pilotCode,onChange:F,className:"border p-2 rounded-md"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"remarks",className:"font-medium",children:"Remarks:"}),(0,t.jsx)("textarea",{name:"remarks",id:"remarks",value:S.remarks,onChange:F,className:"border p-2 rounded-md"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[(0,t.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Submit"}),(0,t.jsx)("button",{type:"button",onClick:()=>{N(!1)},className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"})]})]})})]})}),p?(0,t.jsx)("h1",{children:"Lodaing........"}):(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{style:{height:400,width:"90%"},className:"shadow-md shadow-slate",children:(0,t.jsx)(l._,{className:"bg-white",rows:j,columns:[{field:"jobId",headerName:"Job ID",headerClassName:"bg-orange-100"},{field:"userId",width:85,headerName:"User ID",headerClassName:"bg-orange-100"},{field:"craftName",headerName:"Craft Name",headerClassName:"bg-orange-100",width:100},{field:"vesselName",headerName:"Vessel Name",headerClassName:"bg-orange-100",width:130},{field:"serviceRequestTime",headerName:"Service Request Time",headerClassName:"bg-orange-100",width:170},{field:"jobType",headerName:"Job Type",headerClassName:"bg-orange-100"},{field:"jobStatus",headerName:"Job Status",headerClassName:"bg-orange-100"},{field:"action",width:50,headerName:"View",headerClassName:"bg-orange-100",renderCell:e=>(0,t.jsx)("button",{onClick:()=>T(e.row),children:(0,t.jsx)(i.Z,{})})},{field:"edit",width:50,headerName:"Edit",headerClassName:"bg-orange-100",renderCell:e=>(0,t.jsx)("button",{onClick:()=>k(e.row),children:(0,t.jsx)(m.Z,{})})},{field:"delete",width:50,headerName:"Delete",headerClassName:"bg-orange-100",renderCell:e=>(0,t.jsx)("button",{onClick:()=>L(e.row),children:(0,t.jsx)(u.Z,{})})}],initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10]})})})]})]})]})}},47565:function(e,a,s){"use strict";var t=s(23963);a.Z=void 0;var o=t(s(19118)),l=s(57437);a.Z=(0,o.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"AddOutlined")},94550:function(e,a,s){"use strict";var t=s(23963);a.Z=void 0;var o=t(s(19118)),l=s(57437);a.Z=(0,o.default)((0,l.jsx)("path",{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25zm2-2.92 9.06-9.06.92.92L5.92 19H5zM18.37 3.29a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"}),"ModeEditOutlineOutlined")},50239:function(e,a,s){"use strict";var t=s(23963);a.Z=void 0;var o=t(s(19118)),l=s(57437);a.Z=(0,o.default)((0,l.jsx)("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5m0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5"}),"RemoveRedEyeOutlined")},57131:function(e,a,s){"use strict";var t=s(59018),o=s(57437);a.Z=(0,t.Z)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutlineOutlined")},16463:function(e,a,s){"use strict";var t=s(71169);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[126,543,914,971,23,744],function(){return e(e.s=61212)}),_N_E=e.O()}]);